@if (appointment) {
  <div class="view-header">
    <h2 class="page-title">Appointment</h2>
  </div>

  <app-list [data]="displayAppointment">
    <div class="custom-list">
      <mat-list-item>
        <span class="item-title" matListItemTitle><strong>Service/s:</strong></span>
        @for (service of appointment.services; track service._id) {
          <span class="item-line" matListItemLine>{{ service.name }}</span>
        }
      </mat-list-item>
    </div>

    <div class="row-divider"></div>

    <div class="custom-list">
      <mat-list-item>
        <span class="item-title" matListItemTitle>Notes:</span>
        <span class="item-line" matListItemLine>
          Clinic Notes: {{ appointment.notes.clinicNotes }} <br>
        </span>
        <span class="item-line" matListItemLine>
          Patient Notes: {{ appointment.notes.patientNotes }}
        </span>
      </mat-list-item>
    </div>
  </app-list>

  <!-- Approve / Decline Buttons -->
  <div class="action-buttons">
    <button mat-flat-button color="primary" 
            (click)="approveAppointment()" 
            [disabled]="appointment.status === 'confirmed'">
      <mat-icon>check</mat-icon> Approve
    </button>

    <button mat-stroked-button color="warn" 
            (click)="declineAppointment()" 
            [disabled]="appointment.status === 'rejected'">
      <mat-icon>close</mat-icon> Reject
    </button>
  </div>
} @else {
  <p>Fetching details...</p>
}
